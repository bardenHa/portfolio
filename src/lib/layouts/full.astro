---
import { Anchor, Divider, Image, Typography } from '../components';
import { ColorModeSwitcher } from './full-layout';
import { constants } from '@/config';
---

<section class="mx-auto flex min-h-screen max-w-4xl flex-col">
  <header role="banner" id="header" class="container mx-auto p-5 transition-[max-width] duration-200 ease-in-out">
    <nav id="main-nav" aria-label="Main" class="flex flex-col justify-between gap-6 sm:flex-row sm:items-center">
      <div class="flex items-center justify-between">
        <a href="/" title="Home">
          <Image src="/h_avatar.svg" alt="Harry Barden's avatar" class="h-12 w-12" />
        </a>
      </div>
      <div class="flex items-center gap-6 sm:justify-center">
        <ul class="flex items-center gap-4">
          {
            constants.links.internal.main.map(link => (
              <Typography.Text as="li">
                <Anchor href={link.href} variant="subtle" aria-current="page">
                  {link.title}
                </Anchor>
              </Typography.Text>
            ))
          }
        </ul>
        <ColorModeSwitcher class="hidden sm:block" client:load />
      </div>
    </nav>
  </header>
  <main
    role="main"
    id="main-content"
    class="container mx-auto flex-1 px-5 transition-[max-width] duration-200 ease-in-out"
  >
    <slot />
  </main>
  <footer class="container mx-auto p-5 pb-12 pt-0 transition-[max-width] duration-200 ease-in-out">
    <Divider size="lg" />
    <div class="flex flex-col justify-between gap-3 sm:flex-row sm:items-center">
      <Typography.Paragraph variant={'subdued'}>
        <span translate="no">Harry Barden</span> Â© 2023
      </Typography.Paragraph>
      <div class="flex justify-between gap-6 sm:items-center md:gap-10">
        <nav id="footer-nav" aria-label="Footer">
          <ul class="sm:flex items-center gap-3 flex-wrap">
            {
              constants.links.internal.footer.map(link => (
                <Typography.Text as="li" variant={'subdued'}>
                  <Anchor href={link.href} variant="subtle">
                    {link.title}
                  </Anchor>
                </Typography.Text>
              ))
            }
          </ul>
        </nav>
        <Anchor href={'#header'} variant="distinguished">Back to top</Anchor>
      </div>
    </div>
  </footer>
</section>
